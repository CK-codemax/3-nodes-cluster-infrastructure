---
# ArgoCD Helm chart values
# Minimal configuration for ArgoCD installation
# Full values reference: https://github.com/argoproj/argo-helm/blob/main/charts/argo-cd/values.yaml

# Global configuration
global:
  image:
    tag: ""  # Use chart default

# Server configuration
server:
  service:
    type: ClusterIP
  ingress:
    enabled: false  # We'll create ingress separately
  # Enable insecure mode for TLS-terminated ingress
  insecure: true
  # Environment variables
  env:
    - name: ARGOCD_SERVER_INSECURE
      value: "true"
  nodeSelector:
    aws-workloads: enabled
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: aws-workloads
            operator: In
            values:
            - enabled

# Controller configuration
controller:
  replicas: 1
  nodeSelector:
    aws-workloads: enabled
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: aws-workloads
            operator: In
            values:
            - enabled

# Repo Server configuration
repoServer:
  replicas: 1
  nodeSelector:
    aws-workloads: enabled
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: aws-workloads
            operator: In
            values:
            - enabled

# Application Set Controller configuration
applicationSet:
  replicas: 1
  nodeSelector:
    aws-workloads: enabled
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: aws-workloads
            operator: In
            values:
            - enabled

# Redis configuration
redis:
  enabled: true
  nodeSelector:
    aws-workloads: enabled
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: aws-workloads
            operator: In
            values:
            - enabled

# Configs configuration
configs:
  secret:
    createSecret: true

# Additional configuration can be added here as needed
