# Common variables for cluster setup
terraform_dir: "../../staging/k8s-cluster"

# AWS Configuration
aws_region: "{{ terraform_aws_region | default('us-east-1') }}"
cluster_name: "{{ terraform_cluster_name | default('3-nodes-k8s-cluster') }}"
env_name: "{{ terraform_env_name | default('dev') }}"

# AWS Load Balancer Controller Configuration
aws_lbc_chart_version: "1.7.2"
aws_lbc_namespace: "aws-load-balancer-controller"
aws_lbc_service_account: "aws-load-balancer-controller"
aws_lbc_release_name: "aws-load-balancer-controller"
aws_lbc_repository: "https://aws.github.io/eks-charts"
aws_lbc_chart: "aws-load-balancer-controller"
aws_lbc_role_arn: "{{ terraform_aws_lbc_role_arn | default('') }}"
aws_lbc_role_name: "{{ terraform_aws_lbc_role_name | default('') }}"

# NGINX Ingress Controller Configuration
nginx_ingress_chart_version: "4.10.1"
nginx_ingress_namespace: "ingress-nginx"
nginx_ingress_release_name: "external-nginx"
nginx_ingress_repository: "https://kubernetes.github.io/ingress-nginx"
nginx_ingress_chart: "ingress-nginx"
nginx_ingress_values_file: "{{ playbook_dir }}/../../values/nginx-ingress.yaml"

# EBS CSI Driver Configuration
ebs_csi_driver_chart_version: "2.29.0"
ebs_csi_driver_namespace: "kube-system"
ebs_csi_driver_service_account: "ebs-csi-controller-sa"
ebs_csi_driver_release_name: "aws-ebs-csi-driver"
ebs_csi_driver_repository: "https://kubernetes-sigs.github.io/aws-ebs-csi-driver"
ebs_csi_driver_chart: "aws-ebs-csi-driver"
ebs_csi_storage_class_name: "ebs-gp3"
ebs_csi_driver_role_arn: "{{ terraform_ebs_csi_driver_role_arn | default('') }}"
ebs_csi_driver_role_name: "{{ terraform_ebs_csi_driver_role_name | default('') }}"

# EFS CSI Driver Configuration
efs_csi_driver_chart_version: "2.5.3"
efs_csi_driver_namespace: "efs-csi-driver"
efs_csi_driver_service_account: "efs-csi-controller-sa"
efs_csi_driver_release_name: "aws-efs-csi-driver"
efs_csi_driver_repository: "https://kubernetes-sigs.github.io/aws-efs-csi-driver"
efs_csi_driver_chart: "aws-efs-csi-driver"
efs_storage_class_name: "efs"
efs_file_system_id: "{{ terraform_efs_file_system_id | default('') }}"
efs_file_system_dns_name: "{{ terraform_efs_file_system_dns_name | default('') }}"
efs_csi_driver_role_arn: "{{ terraform_efs_csi_driver_role_arn | default('') }}"
efs_csi_driver_role_name: "{{ terraform_efs_csi_driver_role_name | default('') }}"
efs_mount_target_subnets: "{{ terraform_efs_mount_target_subnets | default([]) }}"
efs_security_group_id: "{{ terraform_efs_security_group_id | default('') }}"

# Cert Manager Configuration
cert_manager_chart_version: "v1.14.5"
cert_manager_namespace: "cert-manager"
cert_manager_release_name: "cert-manager"
cert_manager_repository: "https://charts.jetstack.io"
cert_manager_chart: "cert-manager"
cert_manager_cluster_issuer_name: "http-01-production"
cert_manager_email: "ochuko@gmail.com"  # Change this to your email address

# Metrics Server Configuration
metrics_server_chart_version: "3.12.1"
metrics_server_namespace: "metrics-server"
metrics_server_release_name: "metrics-server"
metrics_server_repository: "https://kubernetes-sigs.github.io/metrics-server/"
metrics_server_chart: "metrics-server"
metrics_server_values_file: "{{ playbook_dir }}/../../values/metrics-server.yaml"

# ArgoCD Configuration
argocd_namespace: "argocd"
argocd_release_name: "argocd"
argocd_repository: "https://argoproj.github.io/argo-helm"
argocd_chart: "argo-cd"
argocd_values_file: "{{ playbook_dir }}/../../values/argocd-values.yml"
argocd_ingress_name: "argocd-server-ingress"
argocd_server_service_name: "argocd-server"
# ArgoCD Ingress Configuration
argocd_domain: "argo.ochukowhoro.xyz"
argocd_cert_issuer: "http-01-production"
argocd_cert_secret_name: "argocd-server-tls"
# ArgoCD VProfile Application Configuration
argocd_project_name: "vprofile"
argocd_app_name: "vprofile-app"
argocd_app_destination_namespace: "vprofile"
argocd_app_source_path: "kubernetes"  # Path in the repository
argocd_app_repo_url: "https://github.com/example/vprofile.git"  # Change this to your repository URL
argocd_app_repo_target_revision: "main"  # Branch or tag name
# VProfile Ingress Configuration
vprofile_domain: "vprofile.ochukowhoro.xyz"
vprofile_ingress_name: "vprofile-ingress"
vprofile_service_name: "vprofile-web"  # Update this to match your VProfile service name
vprofile_service_port: 80  # Update this to match your VProfile service port
vprofile_cert_issuer: "http-01-production"
vprofile_cert_secret_name: "vprofile-tls"

# Helm Configuration
helm_timeout: "15m"
helm_wait: true

# Kubernetes Configuration
kubeconfig_path: "/home/ubuntu/.kube/config"

# VPC Configuration
vpc_id: "{{ terraform_vpc_id | default('') }}"

# etcd Backup Configuration
etcd_backup_bucket_name: "{{ terraform_etcd_backup_bucket_name | default('') }}"
etcd_backup_bucket_arn: "{{ terraform_etcd_backup_bucket_arn | default('') }}"
etcd_backup_role_arn: "{{ terraform_etcd_backup_role_arn | default('') }}"
etcd_backup_role_name: "{{ terraform_etcd_backup_role_name | default('') }}"
etcd_backup_instance_profile_name: "{{ terraform_etcd_backup_instance_profile_name | default('') }}"

# AWS Workloads Instance Profile Configuration
aws_workloads_instance_profile_name: "{{ terraform_aws_workloads_instance_profile_name | default('') }}"
aws_workloads_instance_profile_arn: "{{ terraform_aws_workloads_instance_profile_arn | default('') }}"
worker1_private_ip: "{{ terraform_worker1_private_ip | default('') }}"

